<view class="container">
  <view class="header">
    <text class="title">我的日报历史</text>
  </view>

  <view class="auto-tip">
    <text>查看你过去生成的个性化日报</text>
  </view>

  <!-- 加载中 -->
  <view wx:if="{{loading}}" class="loading-state">
    <view class="skeleton-item" wx:for="{{[1,2,3,4,5]}}" wx:key="*this">
      <view class="skeleton-date"></view>
      <view class="skeleton-count"></view>
    </view>
  </view>

  <!-- 空状态 -->
  <view wx:elif="{{isEmpty}}" class="empty-state">
    <view class="empty-icon">📅</view>
    <text class="empty-title">还没有历史日报</text>
    <text class="empty-desc">生成你的第一份个性化日报后，这里会显示历史记录</text>
  </view>

  <!-- 日期列表 -->
  <view wx:else class="list">
    <view
      wx:for="{{dates}}"
      wx:key="date"
      class="date-item"
      bindtap="onTapDate"
      data-date="{{item.date}}"
    >
      <view class="date-info">
        <text class="date">{{item.date}}</text>
        <text class="time">生成于 {{item.generated_at}}</text>
      </view>
      <view class="count-badge">{{item.article_count}} 篇</view>
    </view>
  </view>
</view>
